<p id="notice"><%= notice %></p>

<p id="codeMatch"></p>

<h1>Events</h1>

<p>Current User is <%= current_user.first_name %></p>

<table>
  <thead>
    <tr>
      <th>Event Name</th>
      <th>Amount of Points</th>
      <th>Event Location</th>
      <th>Event Date</th>
      <th>Start Time</th>
      <th>End Time</th>
      <th>Event Verification Code</th>
      <th>Attendee List ID</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @events.each do |event| %>
      <tr>
        <td><%= event.event_name %></td>
        <td><%= event.event_point %></td>
        <td><%= event.event_location %></td>
        <td><%= event.event_date %></td>
        <td><%= event.event_start %></td>
        <td><%= event.event_end %></td>
        <td><%= event.event_verification %></td>
        <td><%= event.event_attendee_list_id %></td>
        <td><%= link_to 'Show', event %></td>
        <td><%= button_tag 'Register', onclick: "myFunction('#{event.event_verification}, #{event.id}')" %></td>
        <td><%= link_to 'Edit', edit_event_path(event) %></td>
        <td><%= link_to 'Destroy', delete_event_path(event) %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<script>
function myFunction(eventVerificationCode, eventID) {
  console.log(eventVerificationCode);
  let text;
  let userCode = prompt("Please enter the verification code");
  console.log(userCode);
  if (userCode == eventVerificationCode) {
    text = "Successfully Registered for Event!";
  } else {
    text = "Wrong Code!";
  }
  document.getElementById("codeMatch").innerHTML = text;
}
</script>



<%= link_to 'New Event', new_event_path %>
